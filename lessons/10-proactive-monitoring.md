<script src="./gtm.html"></script>

# Инженерное мышление в продакшене

## Урок 10: Мониторинг который ловит проблемы заранее

Система работает стабильно месяцами. Метрики зелёные. И вдруг в понедельник утром Black Friday трафик. Через час всё горит. Оказывается CPU под нагрузкой вырос вдвое. Но алерты молчали. Потому что пороги ставили под нормальной нагрузкой.

Хороший мониторинг не ждёт катастрофы. Он сигнализирует заранее. Два часа до полного отказа. Или показывает тренды которые приведут к проблеме через неделю.

Первый принцип правильные метрики. Не только uptime и latency. Следи за ресурсами. CPU memory по процессам. DB connections. Queue depth. External API latency. Каждая метрика должна отражать здоровье системы.

Второй базовые алерты. Пороги на критические значения. Latency выше двух секунд. Error rate больше одного процента. Но добавь hysteresis. Алерты не должны спамить при флуктуациях.

Третий трендовые алерты. Не только пороги. Алерты на рост. Latency растёт на двадцать процентов за час. CPU usage выше среднего на тридцать процентов за сутки. Эти ловят деградацию до критической точки.

Четвёртый SLO SLI. Определи service level objectives. Доступность девяносто девять целых пять. Latency девяносто пятый перцентиль меньше двухсот миллисекунд. Строи дашборды вокруг них. Алерты когда SLO под угрозой.

Пятый custom metrics. Стандартные не всегда достаточно. Добавь метрики бизнес логики. Успешные платежи. Конверсия корзины. Обработанные заказы в час. Эти показывают реальное здоровье сервиса.

Шестой alerting hygiene. Каждый алерт должен требовать действий. Не спам. Группируй похожие. Устанавливай cooldown. Важно чтобы команда реагировала а не игнорировала уведомления.

Такой мониторинг превращает реактивную команду в проактивную. Проблемы решаются до того как пользователи заметят. Система становится предсказуемой.
