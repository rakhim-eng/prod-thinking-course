<script src="/lessons/gtm.html"></script>
# Инженерное мышление в продакшене

## Урок 2: Как отличить простую проблему от системной

Когда приходит алерт в два часа ночи, первая задача понять, с чем ты имеешь дело. Простая локальная проблема решается за пятнадцать минут. Системная может тянуться часы и затрагивать всю архитектуру. Большинство разработчиков сразу начинают копать в коде. Забывают сначала посмотреть шире.

Простая проблема это когда один сервис завис или база недоступна. Локальный сбой. Восстанавливается перезапуском или откатом одной фичи. Системная это когда несколько сервисов падают одновременно. Или проблема мигрирует из одного места в другое. Тогда нужен другой подход.

Возьми случай из моей практики. Прилетел алерт про медленный ответ /api/payments. Сначала подумали, что платежный сервис просто не справляется с нагрузкой. Перезапустили поды. Через двадцать минут та же проблема, но уже в /api/notifications. Оказалось не сервис, а Redis кластер начал сбрасывать соединения из за нехватки памяти. Один сбой вызвал цепную реакцию.

Первый признак системной проблемы это когда фикс одного места ломает другое. Или метрики начинают гореть в неожиданных местах. Локальная проблема остаётся в своих границах. Системная расползается.

Второй признак это повторяемость под разными условиями. Простой баг воспроизводится всегда одинаково. Системная проблема то пропадает, то возвращается. Зависит от нагрузки, времени суток, конфигурации.

Третий признак зависимостей. Если проблема затрагивает несколько команд или микросервисов, это уже не локальный вопрос. Нужен incident commander и план координации.

Понимание типа проблемы меняет стратегию. Простую решаешь сам за полчаса. Системную собираешь команду и распределяешь роли. Главное не пытаться решить системную как простую. Потеряешь часы впустую.
